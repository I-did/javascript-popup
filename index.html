<!DOCTYPE html>
<html lang="ru-RU">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="style.css">
	<title>SimplePopup</title>
</head>
<body>
	<button type="button" class="open-popup-btn">Открыть окно (1)</button>
	<button type="button" class="open-popup-another-btn"><span>Открыть окно (2)</span></button>
	<div class="popup">
		<button type="button" class="popup-close-btn">&#10006;</button>
		<b class="popup-title">Заказать звонок (1)</b>
		<form action="#" method="POST" class="popup-form">
			<input type="text" class="popup-form-inp" placeholder="Введите Ваше имя">
			<input type="text" class="popup-form-inp" placeholder="Введите Ваш телефон">
			<button class="popup-form-btn">Отправить</button>
		</form>
	</div>
	<div class="popup two">
		<button type="button" class="popup-close-btn close-two">&#10006;</button>
		<b class="popup-title">Всплывающее окно 2</b>
		<form action="#" method="POST" class="popup-form">
			<input type="text" class="popup-form-inp" placeholder="Введите Ваше имя">
			<input type="text" class="popup-form-inp" placeholder="Введите Ваш телефон">
			<button class="popup-form-btn">Отправить</button>
		</form>
	</div>
	<div class="overlay"></div>
	<!-- <script src="./SimplePopup.js"></script> -->
	<script src="./SimplePopup.min.js"></script>
<script>
	
document.addEventListener('DOMContentLoaded', function(){
	// for IE support
	;(function () {
		if (typeof window.CustomEvent === "function") return false;
	
		function CustomEvent (event, params) {
			params = params || {bubbles: false, cancelable: false, detail: null};
			let evt = document.createEvent('CustomEvent');
			evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);
			return evt;
		}
		CustomEvent.prototype = window.Event.prototype;
		window.CustomEvent = CustomEvent;
	})();
	let popup = new SimplePopup({
		popup: '.popup',
		openBtn: '.open-popup-btn',
		closeBtn: '.popup-close-btn',
		overlay: '.overlay',
		// for IE support
		popupAnimation: 'fadeOut .5s',
		overlayAnimation: 'fadeOut .5s',
		popupAnimationName: 'fadeOut',
		overlayAnimationName: 'fadeOut',
		esc: false,
		scrollThreshold: 100
	});

	popup.addEventListener('beforeopen', function() {
		console.log(this.caller);
	});

	// beforeopen
	// open
	// beforeclose
	// close

	let popup2 = new SimplePopup({
		popup: '.two',
		openBtn: '.open-popup-another-btn',
		closeBtn: '.close-two',
		overlay: '.overlay'
	});
});
</script>
</body>
</html>